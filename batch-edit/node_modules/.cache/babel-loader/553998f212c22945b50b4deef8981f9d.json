{"ast":null,"code":"export default {\n  name: \"contentSearch\",\n\n  data() {\n    return {\n      modal: false,\n      centerDialogVisible: false,\n      cities: [],\n      value: \"\"\n    };\n  },\n\n  methods: {\n    form() {\n      this.$emit(\"refreshForm\");\n    },\n\n    refresh() {\n      this.$emit(\"refresh\");\n    },\n\n    save() {\n      this.$emit(\"finish\");\n    },\n\n    finish() {\n      console.log(\"完成\"); // this.$emit(\"finish\");\n    },\n\n    // 完成时,先调用检查\n    autoCheckStatus() {\n      console.log(window.currentTask);\n      return;\n      var bodyParam = {\n        \"activityId\": iD.Task.d.tags.currentActivity,\n        //工作流ID (tag中的currentActivity的值）环节名称\n        \"taskId\": iD.Task.d.tags.taskId\n      };\n      d3.json(iD.config.URL.kts + 'dispatch/job/start').header(\"Content-Type\", \"application/json;charset=UTF-8\").post(JSON.stringify(bodyParam), function (error, data) {\n        loading && loading.close();\n\n        if (data.code != '0') {\n          Dialog.alert('启动检查服务失败！' + data.message);\n          return;\n        }\n\n        callback && callback(data.result);\n      });\n    }\n\n  }\n};","map":{"version":3,"sources":["D:\\web_editor_hd\\src\\main\\webapp\\batch-edit\\src\\components\\contentComponents\\contentSearch.vue"],"names":[],"mappings":"AAyCA,eAAe;AACb,EAAA,IAAI,EAAE,eADO;;AAEb,EAAA,IAAI,GAAG;AACL,WAAO;AACL,MAAA,KAAK,EAAE,KADF;AAEL,MAAA,mBAAmB,EAAE,KAFhB;AAGL,MAAA,MAAM,EAAE,EAHH;AAIL,MAAA,KAAK,EAAE;AAJF,KAAP;AAMD,GATY;;AAUb,EAAA,OAAO,EAAE;AACP,IAAA,IAAI,GAAG;AACL,WAAK,KAAL,CAAW,aAAX;AACD,KAHM;;AAIP,IAAA,OAAO,GAAG;AACR,WAAK,KAAL,CAAW,SAAX;AACD,KANM;;AAOP,IAAA,IAAI,GAAG;AACL,WAAK,KAAL,CAAW,QAAX;AACD,KATM;;AAUP,IAAA,MAAM,GAAG;AACP,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ,EADO,CAEP;AACD,KAbM;;AAcP;AACA,IAAA,eAAe,GAAG;AAChB,MAAA,OAAO,CAAC,GAAR,CAAY,MAAM,CAAC,WAAnB;AACA;AACA,UAAI,SAAQ,GAAI;AACZ,sBAAc,EAAE,CAAC,IAAH,CAAQ,CAAR,CAAU,IAAV,CAAe,eADjB;AAC2C;AACvD,kBAAU,EAAE,CAAC,IAAH,CAAQ,CAAR,CAAU,IAAV,CAAe;AAFb,OAAhB;AAIA,MAAA,EAAE,CAAC,IAAH,CAAQ,EAAE,CAAC,MAAH,CAAU,GAAV,CAAc,GAAd,GAAoB,oBAA5B,EACK,MADL,CACY,cADZ,EAC4B,gCAD5B,EAEK,IAFL,CAEU,IAAI,CAAC,SAAL,CAAe,SAAf,CAFV,EAEqC,UAAU,KAAV,EAAiB,IAAjB,EAAuB;AACpD,QAAA,OAAM,IAAK,OAAO,CAAC,KAAR,EAAX;;AACA,YAAI,IAAI,CAAC,IAAL,IAAa,GAAjB,EAAsB;AAClB,UAAA,MAAM,CAAC,KAAP,CAAa,cAAc,IAAI,CAAC,OAAhC;AACA;AACJ;;AAEA,QAAA,QAAO,IAAK,QAAQ,CAAC,IAAI,CAAC,MAAN,CAApB;AACH,OAVL;AAWD;;AAjCM;AAVI,CAAf","sourcesContent":["<template>\n  <el-dialog\n    title=\"信息确认\"\n    v-model=\"centerDialogVisible\"\n    width=\"30%\"\n    destroy-on-close\n    center\n  >\n    <strong>请确认是否所有数据已编辑完成并提交检查进入下一环节。</strong>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"finish\">确 定</el-button>\n        <el-button @click=\"centerDialogVisible = false\">取 消</el-button>\n      </span>\n    </template>\n  </el-dialog>\n  <div class=\"contentSearch\">\n    <el-button-group>\n      <el-button class=\"btn-form\" icon=\"el-icon-search\" @click=\"form()\"\n        >报表</el-button\n      >\n      <el-button class=\"btn-refresh\" icon=\"el-icon-refresh\" @click=\"refresh()\"\n        >刷新</el-button\n      >\n      <el-button\n        class=\"btn-save\"\n        icon=\"el-icon-document-checked\"\n        @click=\"save()\"\n        >保存</el-button\n      >\n      <el-button\n        class=\"btn-finish\"\n        icon=\"el-icon-document-checked\"\n        @click=\"centerDialogVisible = true\"\n        >完成</el-button\n      >\n    </el-button-group>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"contentSearch\",\n  data() {\n    return {\n      modal: false,\n      centerDialogVisible: false,\n      cities: [],\n      value: \"\",\n    };\n  },\n  methods: {\n    form() {\n      this.$emit(\"refreshForm\");\n    },\n    refresh() {\n      this.$emit(\"refresh\");\n    },\n    save() {\n      this.$emit(\"finish\");\n    },\n    finish() {\n      console.log(\"完成\")\n      // this.$emit(\"finish\");\n    },\n    // 完成时,先调用检查\n    autoCheckStatus() {\n      console.log(window.currentTask)\n      return\n      var bodyParam = {\n          \"activityId\": iD.Task.d.tags.currentActivity,          //工作流ID (tag中的currentActivity的值）环节名称\n          \"taskId\": iD.Task.d.tags.taskId\n      }\n      d3.json(iD.config.URL.kts + 'dispatch/job/start')\n          .header(\"Content-Type\", \"application/json;charset=UTF-8\")\n          .post(JSON.stringify(bodyParam), function (error, data) {\n              loading && loading.close();\n              if (data.code != '0') {\n                  Dialog.alert('启动检查服务失败！' + data.message);\n                  return;\n              }\n\n              callback && callback(data.result);\n          });\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n.contentSearch {\n  height: 40px;\n  float: left;\n  padding: 5px 10px;\n  position: absolute;\n  right: 0px;\n  z-index: 99;\n}\n.contentSearch button {\n  float: left;\n  padding: 0px 15px;\n  min-height: 30px;\n  height: 30px;\n  line-height: 30px;\n  width: auto;\n}\n.contentSearch .el-button-group {\n  float: left;\n  margin-left: 20px;\n}\n.contentSearch .el-button-group:last-child {\n  float: right;\n  margin-left: 0px;\n}\n.el-overlay {\n  z-index: 9999 !important;\n}\n</style>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}